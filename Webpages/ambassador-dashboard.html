<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cyber Ranger - Ambassador Dashboard</title>
  <meta name="description" content="Ambassador dashboard for managing events and news.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="../styles/main.css">
  <link rel="stylesheet" href="../styles/dashboard.css">
</head>
<body>
  <div class="dashboard-grid">
    <aside class="sidebar">
      <div class="sidebar__brand">
        <img src="../assets/icons/logo.png" alt="Cyber Ranger Logo" class="sidebar__logo">
        <span class="sidebar__brand-text">CYBER RANGER</span>
      </div>
      <nav class="sidebar__nav" aria-label="Dashboard navigation">
        <button class="nav-link is-active" data-section="dashboard">
          <i class="fa-solid fa-gauge"></i>
          <span>Dashboard</span>
        </button>
        <button class="nav-link" data-section="events">
          <i class="fa-solid fa-calendar-plus"></i>
          <span>Manage Events</span>
        </button>
        <button class="nav-link" data-section="news">
          <i class="fa-solid fa-newspaper"></i>
          <span>Manage News</span>
        </button>
        <button class="nav-link" data-section="profile">
          <i class="fa-solid fa-user"></i>
          <span>Profile</span>
        </button>
        <button class="nav-link nav-link--danger" id="logout-btn">
          <i class="fa-solid fa-right-from-bracket"></i>
          <span>Logout</span>
        </button>
      </nav>
    </aside>

    <main class="main-content">
      <section class="section is-visible" data-section="dashboard">
        <header class="section__header">
          <h1>Ambassador Dashboard</h1>
          <p class="section__subtitle">Mission overview and quick actions</p>
        </header>

        <div class="metrics-grid">
          <article class="metric-card">
            <div class="metric-card__icon"><i class="fa-solid fa-trophy"></i></div>
            <div class="metric-card__content">
              <p class="metric-card__label">Total Events</p>
              <p class="metric-card__value" id="metric-events">--</p>
            </div>
          </article>
          <article class="metric-card">
            <div class="metric-card__icon"><i class="fa-solid fa-newspaper"></i></div>
            <div class="metric-card__content">
              <p class="metric-card__label">News Articles</p>
              <p class="metric-card__value" id="metric-news">--</p>
            </div>
          </article>
        </div>

        <div class="quick-actions">
          <h2>Quick Actions</h2>
          <div class="quick-actions__buttons">
            <button class="primary-action" data-section-target="events">
              <i class="fa-solid fa-calendar-plus"></i> Add Event
            </button>
            <button class="primary-action" data-section-target="news">
              <i class="fa-solid fa-pen-nib"></i> Post News
            </button>
          </div>
        </div>
      </section>

      <section class="section" data-section="events">
        <header class="section__header">
          <h1>Manage Events</h1>
          <p class="section__subtitle">Add new workshops and track upcoming sessions</p>
        </header>

        <div class="card card--split">
          <div>
            <h3>Add New Event</h3>
            <p class="text-muted">Host a workshop or seminar.</p>
          </div>
          <button type="button" class="primary-action" id="open-event-modal">
            <i class="fa-solid fa-plus"></i> Add Event
          </button>
        </div>

        <div class="card">
          <div class="card__header">
            <h3>Upcoming Events</h3>
            <span class="pill pill--muted" id="event-count">0 events</span>
          </div>
          <div class="table">
            <div class="table__head">
              <span>Title</span>
              <span>Date</span>
              <span>Location</span>
              <span>Status</span>
            </div>
            <div class="table__body" id="events-table-body">
              </div>
          </div>
        </div>
      </section>

      <section class="section" data-section="news">
        <header class="section__header">
          <h1>Manage News</h1>
          <p class="section__subtitle">Post cyber alerts and updates for the public.</p>
        </header>

        <div class="card card--split">
          <div>
            <h3>Post News Article</h3>
            <p class="text-muted">Share alerts, scams, or cyber updates.</p>
          </div>
          <button type="button" class="primary-action" id="open-news-modal">
            <i class="fa-solid fa-pen"></i> Write Article
          </button>
        </div>

        <div class="card">
          <div class="card__header">
            <h3>Recent Articles</h3>
            <span class="pill pill--muted" id="news-count">0 articles</span>
          </div>
          <div class="table">
            <div class="table__head">
              <span>Title</span>
              <span>Date</span>
              <span>Region</span>
              <span>Type</span>
            </div>
            <div class="table__body" id="news-table-body">
              </div>
          </div>
        </div>
      </section>

      <section class="section" data-section="profile">
        <header class="section__header">
          <h1>Profile</h1>
        </header>
        <div class="card profile-card">
          <div class="profile-card__header">
            <div class="profile-card__avatar" id="profile-avatar">CR</div>
            <div>
              <h3 id="profile-name">Ambassador</h3>
              <p class="text-muted" id="profile-email">email@example.com</p>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div class="modal" id="event-modal" aria-hidden="true" role="dialog">
    <div class="modal__dialog">
      <div class="modal__header">
        <h3>Add New Event</h3>
        <button type="button" class="icon-btn" id="close-event-modal"><i class="fa-solid fa-xmark"></i></button>
      </div>
      <form class="form-grid" id="event-form">
        <div class="form-group full-width">
            <label><span>Event Poster</span><input type="file" id="event-poster" accept="image/*"></label>
        </div>
        <label><span>Title</span><input type="text" name="title" required></label>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <label><span>Date</span><input type="date" name="date" required></label>
            <label><span>Time</span><input type="time" name="time" required></label>
        </div>
        <label><span>Location</span><input type="text" name="location" required></label>
        <label><span>Venue</span><input type="text" name="venue" required></label>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <label><span>Type</span>
                <select name="type">
                    <option value="Workshop">Workshop</option>
                    <option value="Webinar">Webinar</option>
                </select>
            </label>
            <label><span>Status</span>
                <select name="status"><option value="Upcoming">Upcoming</option></select>
            </label>
        </div>
        <label class="full-width"><span>Summary</span><input type="text" name="summary" required></label>
        <label class="full-width"><span>Details</span><textarea name="details" rows="3"></textarea></label>
        <label><span>Organizer</span><input type="text" name="organizer"></label>
        <label><span>Phone</span><input type="tel" name="phone"></label>
        <div class="modal__actions">
          <button type="button" class="secondary-action" id="cancel-event-modal">Cancel</button>
          <button type="submit" class="primary-action">Publish Event</button>
        </div>
      </form>
    </div>
  </div>

  <div class="modal" id="news-modal" aria-hidden="true" role="dialog">
    <div class="modal__dialog">
      <div class="modal__header">
        <h3>Post News Article</h3>
        <button type="button" class="icon-btn" id="close-news-modal"><i class="fa-solid fa-xmark"></i></button>
      </div>
      
      <form class="form-grid" id="news-form">
        <div class="form-group full-width">
            <label>
              <span>Article Image</span>
              <input type="file" id="news-image" accept="image/*" style="padding: 10px; border: 1px dashed #ccc;" required>
            </label>
        </div>

        <label class="full-width">
          <span>Headline Title</span>
          <input type="text" name="title" placeholder="e.g., New WhatsApp Scam in Goa" required>
        </label>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <label>
              <span>Date</span>
              <input type="date" name="date" required>
            </label>
            <label>
                <span>Region</span>
                <select name="region">
                    <option value="Goa">Goa</option>
                    <option value="India">India (National)</option>
                    <option value="Global">Global</option>
                </select>
            </label>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <label>
                <span>Category</span>
                <select name="type">
                    <option value="impersonation">Scam / Impersonation</option>
                    <option value="financial-fraud">Financial Fraud</option>
                    <option value="website-defacement">Hacking / Defacement</option>
                    <option value="ai-phishing">AI / Phishing</option>
                    <option value="sim-swap">SIM Swap / Identity</option>
                </select>
            </label>
            <label>
              <span>Source URL</span>
              <input type="url" name="reference" placeholder="https://timesofindia..." required>
            </label>
        </div>

        <label class="full-width">
            <span>Summary (The main story)</span>
            <textarea name="summary" rows="3" placeholder="Briefly explain what happened..." required></textarea>
        </label>

        <label class="full-width">
            <span>Safety Tips (One per line)</span>
            <textarea name="tips" rows="3" placeholder="Don't share OTPs&#10;Verify unknown numbers" required></textarea>
        </label>

        <div class="modal__actions">
          <button type="button" class="secondary-action" id="cancel-news-modal">Cancel</button>
          <button type="submit" class="primary-action">
            <i class="fa-solid fa-paper-plane"></i>
            Post Article
          </button>
        </div>
      </form>
    </div>
  </div>

  <script type="module" src="../scripts/ambassador-dashboard.js"></script>
</body>
</html>